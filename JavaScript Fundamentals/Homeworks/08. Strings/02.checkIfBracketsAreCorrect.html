<html>

<head>
    <title>Strings homework</title>
	<link href="styles/js-console.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="styles/styles.css">

</head>

<body>
    <header>
        <h1> 
            Write a JavaScript function to check if in a given expression the brackets are put correctly.  
        </h1> 
        <h2>
            Example of correct expression: ((a+b)/5-d).
        </h2>   
        <h2>
            Example of incorrect expression: )(a+b)).
        </h2>
    </header>

    <div>
        <label for = "someExpression"> Input expression: </label>
        <input type = "text" id = "someExpression">  

        <button onclick="checkForCorrectBrackets(document.getElementById('someExpression').value)">Check</button> 
    </div>

	<div id="js-console"></div>				 
	<script src="scripts/js-console.js"></script>
    <script src="scripts/stringFormat.js"></script>
	<script>
		/* Task 2. Write a JavaScript function to check if in a given expression the brackets are put correctly.
            Example of correct expression: ((a+b)/5-d). <br \>
            Example of incorrect expression: )(a+b)).
        */

        function checkForCorrectBrackets(someExpression) {
            var brackets = 0, 
                i;

            for (i = 0; i < someExpression.length; i++) {              
                if (someExpression[i] == '(') {
                    brackets++; 
                }
                else if (someExpression[i] == ')') {
                    brackets--;  
                }

                if (brackets < 0) {
                    /* if at some point there is closing bracket before oppening the 
                     * bracket variable gonna become less than 0 so we just need to break
                     * */
                    break;    
                }
            }

            /* To be the expression correct bracket needs to be 0 - exactly same number
             * openning and closing brackets
             * */
            if (brackets === 0) {
                jsConsole.writeLine(String.format("The expression {0} is correct!", someExpression));              
            }
            else {
                jsConsole.writeLine(String.format("The expression {0} isn't correct!", someExpression));  
            }
        }
	</script>
</body>

</html>
